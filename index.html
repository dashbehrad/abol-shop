<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>شرکت ابول</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        color: #e0e0e0;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header */
      header {
        background: rgba(26, 26, 46, 0.95);
        backdrop-filter: blur(10px);
        padding: 20px 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
        font-size: 28px;
        font-weight: bold;
        color: #00d4ff;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        fill: #00d4ff;
      }

      nav ul {
        display: flex;
        list-style: none;
        gap: 30px;
      }

      nav a {
        color: #e0e0e0;
        text-decoration: none;
        font-size: 16px;
        transition: color 0.3s;
        font-weight: 500;
      }

      nav a:hover {
        color: #00d4ff;
      }

      /* Hero Section */
      .hero {
        padding: 100px 0;
        text-align: center;
      }

      .hero h1 {
        font-size: 48px;
        margin-bottom: 20px;
        color: #00d4ff;
        text-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
      }

      .hero p {
        font-size: 20px;
        color: #b0b0b0;
        max-width: 600px;
        margin: 0 auto;
      }

      /* Products Section */
      .products {
        padding: 80px 0;
        background: rgba(22, 33, 62, 0.5);
      }

      .section-title {
        text-align: center;
        font-size: 36px;
        margin-bottom: 50px;
        color: #00d4ff;
      }

      .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 30px;
      }

      .product-card {
        background: rgba(26, 26, 46, 0.8);
        border-radius: 15px;
        overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
        border: 1px solid rgba(0, 212, 255, 0.2);
      }

      .product-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 40px rgba(0, 212, 255, 0.3);
      }

      .product-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        background: linear-gradient(135deg, #2a2a4e 0%, #1a1a3e 100%);
      }

      .product-info {
        padding: 25px;
      }

      .product-info h3 {
        font-size: 22px;
        margin-bottom: 10px;
        color: #00d4ff;
      }

      .product-info p {
        color: #b0b0b0;
        margin-bottom: 15px;
        font-size: 14px;
      }

      .product-price {
        font-size: 24px;
        font-weight: bold;
        color: #00ff88;
      }

      .add-to-cart {
        margin-top: 12px;
        display: inline-block;
        background: #00d4ff;
        color: #071016;
        padding: 8px 12px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-weight: 600;
      }

      /* Team Section */
      .team {
        padding: 80px 0;
      }

      .team-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 25px;
      }

      .team-member {
        background: rgba(26, 26, 46, 0.6);
        padding: 25px;
        border-radius: 12px;
        text-align: center;
        border: 1px solid rgba(0, 212, 255, 0.2);
        transition: all 0.3s;
      }

      .team-member:hover {
        border-color: #00d4ff;
        box-shadow: 0 5px 20px rgba(0, 212, 255, 0.2);
      }

      .team-member h3 {
        font-size: 20px;
        color: #00d4ff;
        margin-bottom: 8px;
      }

      .team-member p {
        color: #b0b0b0;
        font-size: 15px;
      }

      /* Footer */
      footer {
        background: rgba(26, 26, 46, 0.95);
        padding: 30px 0;
        text-align: center;
        margin-top: 50px;
      }

      footer p {
        color: #808080;
      }

      footer strong {
        color: #00d4ff;
      }

      /* Mobile Menu */
      .menu-toggle {
        display: none;
        background: none;
        border: none;
        color: #00d4ff;
        font-size: 28px;
        cursor: pointer;
      }

      /* Cart */
      .cart-button {
        background: linear-gradient(90deg, #00d4ff, #00ff88);
        color: #071016;
        border: none;
        padding: 8px 12px;
        border-radius: 999px;
        display: inline-flex;
        gap: 8px;
        align-items: center;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 6px 18px rgba(0, 212, 255, 0.15);
      }

      .cart-count {
        background: rgba(7, 16, 22, 0.9);
        color: #00ff88;
        border-radius: 50%;
        width: 22px;
        height: 22px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
      }

      .cart-drawer {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        width: 420px;
        max-width: 90%;
        background: rgba(10, 12, 18, 0.98);
        color: #e0e0e0;
        transform: translateX(-110%);
        transition: transform 0.32s ease;
        z-index: 2000;
        padding: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
      }

      .cart-drawer.open {
        transform: translateX(0);
      }

      .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
      }
      .cart-items {
        margin-top: 16px;
        display: flex;
        flex-direction: column;
        gap: 12px;
        max-height: 60vh;
        overflow: auto;
      }
      .cart-item {
        display: flex;
        gap: 12px;
        align-items: center;
        border-bottom: 1px dashed rgba(255, 255, 255, 0.03);
        padding-bottom: 12px;
      }
      .cart-item img {
        width: 64px;
        height: 64px;
        object-fit: cover;
        border-radius: 8px;
      }
      .cart-actions {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        gap: 10px;
        align-items: center;
      }
      .btn-primary {
        background: #00d4ff;
        color: #071016;
        padding: 10px 14px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-weight: 600;
      }
      .btn-ghost {
        background: transparent;
        color: #b0b0b0;
        border: 1px solid rgba(176, 176, 176, 0.08);
        padding: 8px 12px;
        border-radius: 8px;
        cursor: pointer;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .hero h1 {
          font-size: 32px;
        }

        .hero p {
          font-size: 16px;
        }

        nav ul {
          display: none;
          flex-direction: column;
          position: absolute;
          top: 100%;
          right: 0;
          left: 0;
          background: rgba(26, 26, 46, 0.98);
          padding: 20px;
          gap: 15px;
        }

        nav ul.active {
          display: flex;
        }

        .menu-toggle {
          display: block;
        }

        .products-grid,
        .team-grid {
          grid-template-columns: 1fr;
        }

        .logo {
          font-size: 22px;
        }

        .logo-icon {
          width: 40px;
          height: 40px;
        }

        .cart-drawer {
          width: 100%;
          left: 0;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <svg
              class="logo-icon"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 3L2 9v12l10 6 10-6V9L12 3zm0 2.18L19.82 9 12 12.82 4.18 9 12 5.18zM4 10.63l7 4.2v7.54l-7-4.2v-7.54zm16 0v7.54l-7 4.2v-7.54l7-4.2z"
              />
            </svg>
            <span>شرکت ابول</span>
          </div>

          <div style="display: flex; align-items: center; gap: 12px">
            <button id="cart-button" class="cart-button" onclick="toggleCart()">
              <span>سبد خرید</span>
              <span id="cart-count" class="cart-count">0</span>
            </button>

            <button class="menu-toggle" onclick="toggleMenu()">☰</button>
          </div>

          <nav>
            <ul id="nav-menu">
              <li><a href="#home">خانه</a></li>
              <li><a href="#products">محصولات</a></li>
              <li><a href="#team">تیم ما</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>

    <section class="hero" id="home">
      <div class="container">
        <h1>خوش آمدید به شرکت ابول</h1>
        <p>بهترین سایت برای فروش همدم کنار شما</p>
      </div>
    </section>

    <section class="products" id="products">
      <div class="container">
        <h2 class="section-title">محصولات ما</h2>
        <div class="products-grid">
          <div
            class="product-card"
            data-id="1"
            data-name="گاث گرل"
            data-price="$∞"
            data-img="goth.png"
          >
            <img src="goth.png" alt="محصول 1" class="product-image" />
            <div class="product-info">
              <h3>گاث گرل</h3>
              <p>
                گاث ها مثل پتک ثور هستند برای گرفتنشون به پول نیاز نداری به
                لیاقت نیاز داری
              </p>
              <div class="product-price">$∞</div>
              <button class="add-to-cart" onclick="addToCart(1)">
                افزودن به سبد
              </button>
            </div>
          </div>

          <div
            class="product-card"
            data-id="2"
            data-name="فمبوی"
            data-price="$0"
            data-img="femboy.png"
          >
            <img src="femboy.png" alt="محصول 2" class="product-image" />
            <div class="product-info">
              <h3>فمبوی</h3>
              <p>موجوداتی که برای توجه دیگران حاضر هستند هر کاری بکنن</p>
              <div class="product-price">$0</div>
              <button class="add-to-cart" onclick="addToCart(2)">
                افزودن به سبد
              </button>
            </div>
          </div>

          <div
            class="product-card"
            data-id="3"
            data-name="تامبوی"
            data-price="$1000"
            data-img="tomboy.png"
          >
            <img src="tomboy.png" alt="محصول 3" class="product-image" />
            <div class="product-info">
              <h3>تامبوی</h3>
              <p>
                بانو هایی که از بانو بودن متنفر هستند و دوست دارن مثل یک مرد
                مستقل باشند
              </p>
              <div class="product-price">$1000</div>
              <button class="add-to-cart" onclick="addToCart(3)">
                افزودن به سبد
              </button>
            </div>
          </div>

          <div
            class="product-card"
            data-id="4"
            data-name="دختر انیمه ای"
            data-price="توافقی"
            data-img="anime.png"
          >
            <img src="anime.png" alt="محصول 4" class="product-image" />
            <div class="product-info">
              <h3>دختر انیمه ای</h3>
              <p>دختران دو بعدی که از دختران سه بعدی جذاب تر هستند</p>
              <div class="product-price">توافقی</div>
              <button class="add-to-cart" onclick="addToCart(4)">
                افزودن به سبد
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="team" id="team">
      <div class="container">
        <h2 class="section-title">تیم ما</h2>
        <div class="team-grid">
          <div class="team-member">
            <h3>abol</h3>
            <p>مدیر کل</p>
          </div>
          <div class="team-member">
            <h3>parsa</h3>
            <p>پشتیبانی</p>
          </div>
          <div class="team-member">
            <h3>erfan</h3>
            <p>وزیر دفاع</p>
          </div>
          <div class="team-member">
            <h3>arshia</h3>
            <p>مدیر دوبلاژ</p>
          </div>
          <div class="team-member">
            <h3>ben</h3>
            <p>مدیر بخش اجرایی</p>
          </div>
          <div class="team-member">
            <h3>behrad</h3>
            <p>برنامه نویس</p>
          </div>
          <div class="team-member">
            <h3>toast</h3>
            <p>حسابدار</p>
          </div>
          <div class="team-member">
            <h3>shiva</h3>
            <p>مدیر حمل و نقل</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Checkout / Confirmation Section -->
    <section id="checkout" style="display: none; padding: 60px 0">
      <div class="container">
        <h2 class="section-title">تأیید سفارش</h2>
        <div
          id="checkout-summary"
          style="
            background: rgba(26, 26, 46, 0.8);
            padding: 20px;
            border-radius: 12px;
          "
        >
          <!-- Summary populated by JS -->
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <p>&copy; شرکت ابول. تمامی حقوق محفوظ است.</p>
        <p>ساخته شده توسط: <strong>behrad</strong></p>
      </div>
    </footer>

    <!-- Cart Drawer -->
    <aside id="cart-drawer" class="cart-drawer" aria-hidden="true">
      <div class="cart-header">
        <h3>سبد خرید شما</h3>
        <div>
          <button class="btn-ghost" onclick="toggleCart()">بستن</button>
        </div>
      </div>

      <div id="cart-items" class="cart-items">
        <!-- items injected by JS -->
      </div>

      <div class="cart-actions">
        <div id="cart-total" style="font-weight: 700; color: #00ff88">
          مجموع: $0
        </div>
        <div>
          <button class="btn-ghost" onclick="clearCart()">پاک کردن</button>
          <button class="btn-primary" onclick="proceedToCheckout()">
            تسویه و ادامه
          </button>
        </div>
      </div>
    </aside>

    <script>
      function toggleMenu() {
        const menu = document.getElementById("nav-menu");
        menu.classList.toggle("active");
      }

      // Smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
            // Close mobile menu if open
            document.getElementById("nav-menu").classList.remove("active");
          }
        });
      });

      // Cart (persisted to localStorage)
      const STORAGE_KEY = "abol_cart";
      const cart = { items: [] };

      function saveCart() {
        try {
          localStorage.setItem(STORAGE_KEY, JSON.stringify(cart.items));
        } catch (e) {
          console.warn("Could not save cart", e);
        }
      }

      function loadCartFromStorage() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (raw) cart.items = JSON.parse(raw) || [];
          else cart.items = [];
        } catch (e) {
          cart.items = [];
        }
        renderCart();
      }

      // keep in-sync across tabs/windows
      window.addEventListener("storage", (e) => {
        if (e.key === STORAGE_KEY) {
          loadCartFromStorage();
        }
      });

      function findProductElement(id) {
        return document.querySelector(`.product-card[data-id="${id}"]`);
      }

      function parsePriceString(priceStr) {
        // Extract digits if present, otherwise return 0 for 'توافقی' or non-numeric
        const match = String(priceStr).match(/([0-9,]+(?:\.[0-9]+)?)/);
        if (!match) return 0;
        return parseFloat(match[1].replace(/,/g, ""));
      }

      function addToCart(id) {
        const el = findProductElement(id);
        if (!el) return alert("محصول پیدا نشد");
        const name =
          el.dataset.name || el.querySelector("h3")?.innerText || "محصول";
        const priceText =
          el.dataset.price ||
          el.querySelector(".product-price")?.innerText ||
          "0";
        const img = el.dataset.img || el.querySelector("img")?.src || "";
        const price = parsePriceString(priceText);

        const existing = cart.items.find((i) => i.id === String(id));
        if (existing) {
          existing.qty += 1;
        } else {
          cart.items.push({
            id: String(id),
            name,
            price,
            img,
            qty: 1,
            rawPrice: priceText,
          });
        }
        saveCart();
        renderCart();
        // brief visual feedback
        const btn = el.querySelector(".add-to-cart");
        if (btn) {
          btn.textContent = "افزوده شد";
          setTimeout(() => (btn.textContent = "افزودن به سبد"), 900);
        }
      }

      function renderCart() {
        const container = document.getElementById("cart-items");
        const countEl = document.getElementById("cart-count");
        container.innerHTML = "";
        let total = 0;
        let count = 0;
        cart.items.forEach((item) => {
          count += item.qty;
          total += (item.price || 0) * item.qty;
          const node = document.createElement("div");
          node.className = "cart-item";
          node.innerHTML = `
            <img src="${item.img}" alt="${item.name}">
            <div style="flex:1">
              <div style="font-weight:700;color:#00d4ff">${item.name}</div>
              <div style="color:#b0b0b0;font-size:13px">قیمت: ${
                item.rawPrice || "$" + (item.price || 0)
              }</div>
              <div style="margin-top:6px;display:flex;gap:8px;align-items:center">
                <button class="btn-ghost" onclick="decreaseQty('${
                  item.id
                }')">-</button>
                <div style="min-width:28px;text-align:center">${item.qty}</div>
                <button class="btn-ghost" onclick="increaseQty('${
                  item.id
                }')">+</button>
                <button class="btn-ghost" style="margin-right:8px" onclick="removeItem('${
                  item.id
                }')">حذف</button>
              </div>
            </div>
          `;
          container.appendChild(node);
        });
        document.getElementById("cart-total").textContent = `مجموع: $${
          Number.isFinite(total) ? total : 0
        }`;
        countEl.textContent = count;
      }

      function increaseQty(id) {
        const it = cart.items.find((i) => i.id === id);
        if (it) {
          it.qty++;
          saveCart();
          renderCart();
        }
      }
      function decreaseQty(id) {
        const it = cart.items.find((i) => i.id === id);
        if (it) {
          it.qty = Math.max(1, it.qty - 1);
          saveCart();
          renderCart();
        }
      }
      function removeItem(id) {
        cart.items = cart.items.filter((i) => i.id !== id);
        saveCart();
        renderCart();
      }
      function clearCart() {
        if (confirm("آیا از پاک کردن سبد مطمئن هستید؟")) {
          cart.items = [];
          saveCart();
          renderCart();
        }
      }

      function toggleCart(open) {
        const drawer = document.getElementById("cart-drawer");
        const isOpen = drawer.classList.contains("open");
        if (open === undefined) open = !isOpen;
        drawer.classList.toggle("open", open);
        drawer.setAttribute("aria-hidden", !open);
      }

      function proceedToCheckout() {
        if (cart.items.length === 0) return alert("سبد خرید خالی است");
        // persist current cart for the checkout page
        saveCart();
        // open a new tab/window where user will enter info and confirm
        window.open("checkout.html", "_blank");
      }

      function confirmOrder() {
        // A simple confirmation flow — in real app you'd send this to server
        const name = prompt("نام خود را وارد کنید:");
        if (!name) return alert("نام لازم است");
        const phone = prompt("شماره تماس:");
        if (!phone) return alert("شماره لازم است");
        // show a success message
        const summary = document.getElementById("checkout-summary");
        summary.innerHTML = `<div style="padding:20px;border-radius:8px;background:linear-gradient(90deg,#071016,#0b1822);">سفارش شما با موفقیت ثبت شد. <br>با تشکر ${name} — تیم ابول در اسرع وقت تماس خواهد گرفت.</div>`;
        // clear cart
        cart.items = [];
        renderCart();
      }

      // initialize
      renderCart();
    </script>
  </body>
</html>
